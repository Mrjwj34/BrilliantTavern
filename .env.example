# =============================================================================
# BrilliantTavern 环境变量配置示例
# =============================================================================
# 
# 复制此文件为 .env 并修改相应的值
# 注意：生产环境中请使用强密码和安全的密钥
#

# =============================================================================
# 服务器配置
# =============================================================================
SERVER_PORT=8080
CONTEXT_PATH=/api
APP_NAME=brilliant-tavern

# =============================================================================
# 数据库配置
# =============================================================================
DATABASE_URL=jdbc:postgresql://postgres:5432/brilliant_tavern
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=your_postgres_password

# =============================================================================
# Redis 配置
# =============================================================================
REDIS_HOST=redis
REDIS_PASSWORD=your_redis_password

# =============================================================================
# JWT 认证配置
# =============================================================================
JWT_SECRET=your_very_secure_jwt_secret_key_here_at_least_32_characters
JWT_EXPIRATION=86400000
JWT_HEADER=Authorization
JWT_TOKEN_PREFIX=Bearer 

# =============================================================================
# Google Cloud Vertex AI 配置
# =============================================================================
VERTEX_AI_PROJECT_ID=your-gcp-project-id
VERTEX_AI_LOCATION=us-central1
VERTEX_AI_MODEL=gemini-2.5-flash
VERTEX_AI_EMBEDDING_MODEL=gemini-embedding-001
GOOGLE_API_KEY=

# =============================================================================
# 角色记忆配置
# =============================================================================
CHARACTER_MEMORY_SIMILARITY_THRESHOLD=0.7
CHARACTER_MEMORY_MAX_RESULTS=5

# =============================================================================
# TTS 服务配置
# =============================================================================
TTS_SERVICE_URL=http://fish-speech:9880
TTS_WARMUP_ENABLED=true
TTS_WARMUP_TEXT=你好，这是语音测试
TTS_WARMUP_VOICE_IDS=1,2,3
TTS_WARMUP_TIMEOUT=15s
TTS_WARMUP_DELAY=3s

# =============================================================================
# GenAI 预热配置
# =============================================================================
GENAI_WARMUP_ENABLED=true
GENAI_WARMUP_TEXT=Hi
GENAI_WARMUP_TIMEOUT=30s
GENAI_WARMUP_DELAY=10s
GENAI_WARMUP_MAINTAIN_INTERVAL=3600000

# =============================================================================
# WebSocket 和 CORS 配置
# =============================================================================
WEBSOCKET_ALLOWED_ORIGINS=http://localhost:3000,http://your-domain.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://your-domain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# =============================================================================
# 前端构建和部署配置
# =============================================================================
# 前端应用的基础URL（用于nginx配置）
FRONTEND_BASE_URL=http://localhost:3000
# API代理目标（nginx配置中使用）
API_PROXY_TARGET=http://backend:8080

# =============================================================================
# Docker 容器配置
# =============================================================================
# PostgreSQL
POSTGRES_DB=brilliant_tavern
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password

# Redis
REDIS_DATA_DIR=./data/redis

# 应用数据目录
APP_DATA_DIR=./data/app
APP_UPLOADS_DIR=./data/uploads

# =============================================================================
# Nginx 配置
# =============================================================================
NGINX_PORT=80
NGINX_SSL_PORT=443

# =============================================================================
# 日志级别配置
# =============================================================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SQL=INFO